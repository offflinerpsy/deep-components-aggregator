# Environment Variables Template

## Required in Production

```bash
# === Core Configuration ===
NODE_ENV=production
PORT=9201

# === Session ===
SESSION_SECRET=<random-64-char-hex>  # Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_TTL_MS=604800000  # 7 days (optional, default: 7 days)

# === Proxy Configuration ===
BEHIND_PROXY=1  # Set to 1 if behind NGINX/CDN/reverse proxy (default: 1)
HTTP_PROXY=http://127.0.0.1:40000  # WARP proxy URL (default: 127.0.0.1:40000)
# NO_PROXY=1  # Uncomment to disable proxy
# DIRECT_CONNECTIONS=1  # Uncomment to force direct connections
# WARP_DISABLE=1  # Uncomment to disable WARP proxy

# === Database ===
DATA_DIR=./var/db  # Optional, default: ./var/db

# === API Keys ===
MOUSER_API_KEY=<your-mouser-api-key>
TME_TOKEN=<your-tme-token>
TME_SECRET=<your-tme-secret>
FARNELL_API_KEY=<your-farnell-api-key>
FARNELL_REGION=uk.farnell.com  # Optional: uk.farnell.com, export.farnell.com, etc.
DIGIKEY_CLIENT_ID=<your-digikey-client-id>
DIGIKEY_CLIENT_SECRET=<your-digikey-client-secret>

# === OAuth (Optional) ===

# Google OAuth
# GOOGLE_CLIENT_ID=<your-client-id>.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=<your-secret>
# GOOGLE_CALLBACK_URL=https://your-domain.com/auth/google/callback

# Yandex OAuth
# YANDEX_CLIENT_ID=<your-app-id>
# YANDEX_CLIENT_SECRET=<your-secret>
# YANDEX_CALLBACK_URL=https://your-domain.com/auth/yandex/callback

# VK (VKontakte) OAuth
# VK_CLIENT_ID=<your-app-id>
# VK_CLIENT_SECRET=<your-secret-key>
# VK_CALLBACK_URL=https://your-domain.com/auth/vk/callback

# === Monitoring (Optional) ===
# SENTRY_DSN=<your-sentry-dsn>
# LOG_LEVEL=info  # trace, debug, info, warn, error, fatal

# === Testing (Optional) ===
# DIGIKEY_SELFTEST_TOKEN=<random-token>  # For /api/digikey/selftest endpoint
```

## Development Example

```bash
# === Development Configuration ===
NODE_ENV=development
PORT=9201

# === Session ===
SESSION_SECRET=dev-secret-change-in-production
SESSION_TTL_MS=604800000

# === Proxy Configuration ===
BEHIND_PROXY=1
NO_PROXY=1  # Disable proxy for local development

# === Database ===
DATA_DIR=./var/db

# === API Keys (use test keys or leave empty) ===
# MOUSER_API_KEY=
# TME_TOKEN=
# TME_SECRET=
# FARNELL_API_KEY=
# DIGIKEY_CLIENT_ID=
# DIGIKEY_CLIENT_SECRET=

# === OAuth (use dev credentials) ===
# GOOGLE_CLIENT_ID=<dev-client-id>
# GOOGLE_CLIENT_SECRET=<dev-secret>
# GOOGLE_CALLBACK_URL=http://localhost:9201/auth/google/callback

# YANDEX_CLIENT_ID=<dev-app-id>
# YANDEX_CLIENT_SECRET=<dev-secret>
# YANDEX_CALLBACK_URL=http://localhost:9201/auth/yandex/callback

# VK_CLIENT_ID=<dev-app-id>
# VK_CLIENT_SECRET=<dev-secret>
# VK_CALLBACK_URL=http://localhost:9201/auth/vk/callback
```

## Notes

- **SESSION_SECRET:** MUST be a cryptographically strong random string in production
- **OAuth Callback URLs:** Must match exactly in provider settings
- **WARP Proxy:** Enabled by default; disable with `NO_PROXY=1` for local dev
- **BEHIND_PROXY:** Set to 1 if running behind NGINX/CDN (affects cookie security)
