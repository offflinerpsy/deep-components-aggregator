# Workspace Instructions ‚Äî No-Nonsense Engineering

## üéØ –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´: Tech Lead Mode (–ü–û–°–¢–û–Ø–ù–ù–û)

**–í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ Tech Lead —Ä–µ–∂–∏–º–µ**:
1. **PLAN** ‚Üí —Ç–æ—á–Ω—ã–µ —à–∞–≥–∏ (–±–µ–∑ –¥–æ–≥–∞–¥–æ–∫)
2. **CHANGES** ‚Üí —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ (created/modified/deleted)
3. **RUN** ‚Üí –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
4. **VERIFY** ‚Üí –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ + –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
5. **ARTIFACTS** ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –≤ `docs/_artifacts/<date>/`
6. **GIT** ‚Üí conventional commit + PR –æ–ø–∏—Å–∞–Ω–∏–µ

**–ó–∞–ø—Ä–µ—â–µ–Ω–æ**: –ø–µ—Ä–µ–∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏—è, placeholder-–¥–∞–Ω–Ω—ã–µ, try/catch –≤ –Ω–æ–≤–æ–º –∫–æ–¥–µ, —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.

---

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏—Å—Ç–∏–Ω—ã

1. **–¢–µ–∫—É—â–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –≤–µ—Ç–∫–∞**  
   –ó–∞–ø—Ä–µ—â–µ–Ω–æ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã/–ø—É—Ç–∏. –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `read_file`, `list_dir` –∏–ª–∏ `file_search`.

2. **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**  
   –õ—é–±–∞—è –¥–æ–≥–∞–¥–∫–∞ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `ASSUMPTION:` —Å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤ –∫–æ–¥–µ/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

## –ó–∞–ø—Ä–µ—Ç—ã

### ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–ó–∞–ø—Ä–µ—â–µ–Ω–æ** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `try/except` (Python) –∏–ª–∏ `try/catch` (JavaScript) –≤ –Ω–æ–≤–æ–º –∫–æ–¥–µ
- **–ó–∞–ø—Ä–µ—â–µ–Ω—ã** ¬´–ø—É—Å—Ç—ã–µ¬ª catch-–±–ª–æ–∫–∏ –∏ ¬´–º–æ–ª—á–∞–ª–∏–≤—ã–µ¬ª fallback
- **–ò—Å–ø–æ–ª—å–∑—É–µ–º**: —è–≤–Ω—ã–µ guard-clauses, –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ –≤—Ö–æ–¥–µ, —á–∏—Å—Ç—ã–µ –≤–æ–∑–≤—Ä–∞—Ç—ã (Result/Either –ø–∞—Ç—Ç–µ—Ä–Ω—ã)

### ‚ùå –ü—Å–µ–≤–¥–æ–¥–∞–Ω–Ω—ã–µ –∏ –¥–æ–≥–∞–¥–∫–∏
- **–ó–∞–ø—Ä–µ—â–µ–Ω–æ** –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
- **–ó–∞–ø—Ä–µ—â–µ–Ω–æ** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å placeholder-–¥–∞–Ω–Ω—ã–µ –±–µ–∑ —è–≤–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—Ç—å —è–≤–Ω–æ –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ git

---

## –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã

### üìù –ö–æ–º–º–∏—Ç—ã –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Conventional Commits**: `type(scope): description`
  - –¢–∏–ø—ã: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`
  - –ü—Ä–∏–º–µ—Ä—ã: `feat(search): add Russian normalization`, `fix(api): validate product MPN`
- **SemVer 2.0.0**: `MAJOR.MINOR.PATCH`
  - MAJOR: breaking changes
  - MINOR: –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)
  - PATCH: –±–∞–≥—Ñ–∏–∫—Å—ã

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (12-Factor)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`, –Ω–µ –≤ –∫–æ–¥–µ)
- **–ü—Ä–æ—Ü–µ—Å—Å—ã**: stateless, –±–µ–∑ —Å–µ—Å—Å–∏–π –Ω–∞ –¥–∏—Å–∫–µ
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: —è–≤–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω—ã (package.json, requirements.txt)
- **Dev ‚âà Prod**: –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **API**: OpenAPI Specification (OAS 3.x) –¥–ª—è –≤—Å–µ—Ö HTTP endpoints
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**: Architecture Decision Records (ADR) –≤ `docs/adr/`
- **–§–æ—Ä–º–∞—Ç ADR**: `NNNN-title.md` (0001-template.md –∫–∞–∫ —à–∞–±–ª–æ–Ω)

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Test Pyramid)
- **Unit —Ç–µ—Å—Ç—ã**: –º–Ω–æ–≥–æ, –±—ã—Å—Ç—Ä—ã–µ, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (70-80%)
- **Integration —Ç–µ—Å—Ç—ã**: —É–º–µ—Ä–µ–Ω–Ω–æ, –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å–≤—è–∑–∫–∏ (15-20%)
- **E2E/UI —Ç–µ—Å—Ç—ã**: –º–∞–ª–æ, —Ç–æ—á–µ—á–Ω–æ, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ (5-10%)
- **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤ `docs/_artifacts/<date>/` (JSON, —Å–∫—Ä–∏–Ω—à–æ—Ç, –ª–æ–≥)

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Baseline**: OWASP ASVS 5.0 (Application Security Verification Standard)
- **–ß–µ–∫-–ª–∏—Å—Ç**: OWASP Top-10 –ø—Ä–∏ code review
- **–°–µ–∫—Ä–µ—Ç—ã**: —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** –¥–ª—è –Ω–æ–≤—ã—Ö endpoints:
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (RBAC/ABAC)
  - –ó–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π (SQL, XSS, command injection)
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∏ –æ—à–∏–±–æ–∫

### üé® –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **EditorConfig**: `.editorconfig` –¥–ª—è –≤—Å–µ—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤
- **VS Code**: `.vscode/settings.json` —Å –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–û–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ç—Ä–æ–∫**: LF (`\n`), –Ω–µ CRLF
- **–û—Ç—Å—Ç—É–ø—ã**: 2 –ø—Ä–æ–±–µ–ª–∞ (–æ–±—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è JS/TS/JSON/YAML)
- **Format on save**: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–µ–Ω–æ

---

## –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –∞–≥–µ–Ω—Ç–∞ –Ω–∞ –ª—é–±—É—é –∑–∞–¥–∞—á—É

–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ —Å–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

### 1. **PLAN** (—Ç–æ—á–Ω—ã–µ —à–∞–≥–∏)
```
- –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª X –ø–æ –ø—É—Ç–∏ Y
- –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Z
- –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
```

### 2. **CHANGES** (—Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤)
```
created:   src/features/search/normalize.mjs
modified:  src/api/search.mjs
modified:  package.json
```

### 3. **RUN** (–∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
```bash
npm test
node scripts/verify-search.mjs
```

### 4. **VERIFY** (—á—Ç–æ –∏ –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
```
- –ó–∞–ø—É—Å—Ç–∏—Ç—å: node scripts/audit-search.mjs
- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 5/5 —Ä—É—Å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç: docs/_artifacts/2025-10-05/search-verification.json
```

### 5. **ARTIFACTS** (–∫—É–¥–∞ –ø–æ–ª–æ–∂–µ–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
```
docs/_artifacts/2025-10-05/
‚îú‚îÄ‚îÄ search-verification.json
‚îú‚îÄ‚îÄ test-results.txt
‚îî‚îÄ‚îÄ screenshot-desktop.png
```

### 6. **GIT** (–≤–µ—Ç–∫–∞ –∏ PR)
```
Branch: feature/russian-search-normalization
Commits: 
  - feat(search): add Russian-to-English translation layer
  - test(search): verify 5 Russian queries work
PR: #15 to main
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
```javascript
// Guard clause –≤–º–µ—Å—Ç–æ try/catch
function parseProduct(data) {
  if (!data || typeof data !== 'object') {
    return { error: 'Invalid data format', data: null };
  }
  if (!data.mpn) {
    return { error: 'Missing MPN', data: null };
  }
  
  return { 
    error: null, 
    data: { mpn: data.mpn, title: data.title || 'N/A' } 
  };
}
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```javascript
// try/catch –∑–∞–ø—Ä–µ—â—ë–Ω!
function parseProduct(data) {
  try {
    return { mpn: data.mpn, title: data.title };
  } catch (e) {
    return null; // –ú–æ–ª—á–∞–ª–∏–≤—ã–π fallback
  }
}
```

---

## –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã

- **Conventional Commits**: https://www.conventionalcommits.org/
- **Semantic Versioning**: https://semver.org/
- **12-Factor App**: https://12factor.net/
- **OpenAPI Specification**: https://spec.openapis.org/oas/latest.html
- **Test Pyramid**: https://martinfowler.com/articles/practical-test-pyramid.html
- **OWASP ASVS**: https://github.com/OWASP/ASVS
- **OWASP Top-10**: https://owasp.org/www-project-top-ten/
- **EditorConfig**: https://editorconfig.org/

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—å:
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç (–Ω–µ ASSUMPTION)
- [ ] –ù–µ—Ç try/catch –≤ –Ω–æ–≤–æ–º –∫–æ–¥–µ
- [ ] –ö–æ–º–º–∏—Ç —Å–ª–µ–¥—É–µ—Ç Conventional Commits
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ env
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—à–ª–∏
- [ ] –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ docs/_artifacts/
- [ ] –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã
- [ ] EditorConfig —Å–æ–±–ª—é–¥—ë–Ω (LF, 2 spaces)

---

## –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞

**Tech Lead Mode ‚Äî –ü–û–°–¢–û–Ø–ù–ù–û –ê–ö–¢–ò–í–ï–ù**:
- –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ: PLAN ‚Üí CHANGES ‚Üí RUN ‚Üí VERIFY ‚Üí ARTIFACTS ‚Üí GIT
- –ù–∏–∫–∞–∫–∏—Ö –¥–æ–≥–∞–¥–æ–∫ ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (JSON/logs/screenshots) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `docs/_artifacts/<date>/` **–í–°–ï–ì–î–ê**
- Conventional Commits –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–º–∏—Ç–æ–≤
- PR –æ–ø–∏—Å–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —à–∞–±–ª–æ–Ω—É `.github/PULL_REQUEST_TEMPLATE.md`

**–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–Ω—ã–π workflow**: `.github/prompts/techlead.prompt.md`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 8 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.1.0 (–¥–æ–±–∞–≤–ª–µ–Ω Tech Lead mode –∫–∞–∫ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
