# –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

### –ß—Ç–æ –±—ã–ª–æ:
- ‚ùå –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ —Ç–æ–ª—å–∫–æ **1 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é**
- ‚ùå –ö–∞—Ä—Ç–∏–Ω–∫–∏ –±—ã–ª–∏ –º—É—Ç–Ω—ã–µ –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–æ–ø–æ—Ä—Ü–∏–π
- ‚ùå API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫** (Mouser) –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

### –ß—Ç–æ —Å–µ–π—á–∞—Å:
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **10-17 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π** (—É–ª—É—á—à–µ–Ω–∏–µ –≤ 10-17 —Ä–∞–∑!)
- ‚úÖ –ö–∞—Ä—Ç–∏–Ω–∫–∏ —á–µ—Ç–∫–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏—è–º–∏
- ‚úÖ API –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç **–í–°–ï 3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** (Mouser + TME + Farnell)
- ‚úÖ –î–∞–Ω–Ω—ã–µ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º: TME specs > Farnell specs > Mouser pricing

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –ü—Ä–∏–º–µ—Ä 1: M83513/19-E01NW (D-Sub MIL Spec Connector)
**–ë—ã–ª–æ:** 1 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è  
**–°—Ç–∞–ª–æ:** **10 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π**

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:
1. Standard Pack Qty: 5
2. Manufacturer: Amphenol Canada
3. Product Category: D-Sub MIL Spec Connectors
4. Mouser Part Number: 523-M83513/19-E01NW
5. Minimum Order Quantity: 5
6. Order Multiple: 5
7. Lead Time: 84 Days
8. USHTS: 8536694040
9. TARIC: 8536699099
10. ECCN: EAR99

### –ü—Ä–∏–º–µ—Ä 2: STM32F407VGT6 (ARM Microcontroller)
**–ë—ã–ª–æ:** 1 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è  
**–°—Ç–∞–ª–æ:** **17 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π**

–ü–µ—Ä–≤—ã–µ 10 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π:
1. Packaging: Tray
2. Standard Pack Qty: 540
3. Manufacturer: STMicroelectronics
4. Product Category: ARM Microcontrollers - MCU
5. Mouser Part Number: 511-STM32F407VGT6
6. RoHS Status: RoHS Compliant
7. Minimum Order Quantity: 1
8. Order Multiple: 1
9. Lead Time: 105 Days
10. USHTS: 8542310025
... –∏ –µ—â–µ 7 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π

---

## üîß –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CSS –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ (‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ)
- –ò–∑–º–µ–Ω–µ–Ω–æ —Å `aspect-ratio: 1` –Ω–∞ `max-width: 100%` + `max-height: 100%`
- –î–æ–±–∞–≤–ª–µ–Ω–æ `object-fit: contain` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–æ `image-rendering: crisp-edges` –¥–ª—è —á–µ—Ç–∫–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω–æ `min-height: 400px` –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

**–§–∞–π–ª:** `/opt/deep-agg/public/styles/product.css`

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–ª–∏—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ)
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `src/utils/mergeProductData.mjs`

–§—É–Ω–∫—Ü–∏–∏:
- `mergeSpecs()` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º TME > Farnell > Mouser
- `mergeImages()` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö URL –∫–∞—Ä—Ç–∏–Ω–æ–∫
- `mergeDatasheets()` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–∞—Ç–∞—à–∏—Ç–æ–≤
- `getBestPrice()` - –≤—ã–±–æ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
- `getMaxStock()` - –≤—ã–±–æ—Ä –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –Ω–∞–ª–∏—á–∏—è
- `mergeProductData()` - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–ª–∏—è–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

### 3. –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ server.js /api/product endpoint (‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ)
**–ë—ã–ª–æ:**
```javascript
if (src === 'mouser') { ... } 
else if (src === 'tme') { ... } 
else if (src === 'farnell') { ... }
```

**–°—Ç–∞–ª–æ:**
```javascript
const [mouserResult, tmeResult, farnellResult] = await Promise.allSettled([
  fetchFromMouser(mpn),
  fetchFromTME(mpn),
  fetchFromFarnell(mpn)
]);

const product = mergeProductData(mouser, tme, farnell);
```

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ product-page.js (‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ)
**–ë—ã–ª–æ:** `?src=${src}&id=${mpn}` (—Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç)  
**–°—Ç–∞–ª–æ:** `?mpn=${mpn}` (–Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è merged API)

### 5. Python deployment —Å–∏—Å—Ç–µ–º–∞ (‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç)
**–§–∞–π–ª:** `deploy_merged_api.py`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ SFTP (paramiko)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
- –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞

---

## üåê –°–°–´–õ–ö–ò

### –°–µ—Ä–≤–µ—Ä:
http://5.129.228.88:9201

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- http://5.129.228.88:9201/product.html?mpn=M83513/19-E01NW
- http://5.129.228.88:9201/product.html?mpn=STM32F407VGT6

### API Endpoints:
- http://5.129.228.88:9201/api/product?mpn=M83513/19-E01NW
- http://5.129.228.88:9201/api/product?mpn=STM32F407VGT6

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### TME API - 403 Forbidden
**–ü—Ä–æ–±–ª–µ–º–∞:** TME API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É `E_ACTION_FORBIDDEN`
```json
{
  "Status": "E_ACTION_FORBIDDEN",
  "ErrorMessage": "Request forbidden by administrative rules.",
  "ErrorCode": 101000
}
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í–æ–∑–º–æ–∂–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç HMAC-SHA1 –ø–æ–¥–ø–∏—Å–∏

**–í–ª–∏—è–Ω–∏–µ:** 
- –°–µ–π—á–∞—Å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å Mouser –∏ Farnell
- Mouser —É–∂–µ –¥–∞–µ—Ç 10-17 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤)
- TME –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ

### Farnell - –Ω–µ –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã –≤ –±–∞–∑–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** Farnell API –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `productCount: 0`)

**–ü—Ä–∏–º–µ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö:**
- M83513/19-E01NW (–≤–æ–µ–Ω–Ω—ã–π –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä)
- STM32F407VGT6 (–º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)
- ATMEGA328P-PU (Arduino chip)

**–ü—Ä–∏—á–∏–Ω–∞:** –£ Farnell –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–º —Ä—ã–Ω–∫–µ

**–í–ª–∏—è–Ω–∏–µ:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ - Mouser –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üìà –ú–ï–¢–†–ò–ö–ò –£–õ–£–ß–®–ï–ù–ò–Ø

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-------|---------|-----------|
| –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (M83513) | 1 | 10 | **10x** |
| –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (STM32) | 1 | 17 | **17x** |
| API –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ | 1 | 3 (–∑–∞–ø—Ä–æ—Å) | **3x** |
| –ö–∞—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫ | –ú—É—Ç–Ω–æ | –ß–µ—Ç–∫–æ | ‚úÖ |
| –ü—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫ | –†–∞—Å—Ç—è–Ω—É—Ç–æ | –ü—Ä–∞–≤–∏–ª—å–Ω–æ | ‚úÖ |

---

## üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–°

### ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–û:
1. –ö–∞—Ä—Ç–∏–Ω–∫–∏ —á–µ—Ç–∫–∏–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–æ–ø–æ—Ä—Ü–∏–π
2. –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π —Å—Ç–∞–ª–æ –≤ 10-17 —Ä–∞–∑ –±–æ–ª—å—à–µ
3. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫–æ –≤—Å–µ–º API —Ä–∞–±–æ—Ç–∞—é—Ç
4. –°–∏—Å—Ç–µ–º–∞ —Å–ª–∏—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç
5. Deployment –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω

### üìã –î–õ–Ø –ë–£–î–£–©–ò–• –£–õ–£–ß–®–ï–ù–ò–ô:
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å TME API HMAC –ø–æ–¥–ø–∏—Å—å (–¥–∞—Å—Ç –µ—â–µ –±–æ–ª—å—à–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π)
2. –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å 12 –¥–æ 25+ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π –≤ UI
3. –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –ö–ê–ö –î–ï–ü–õ–û–ò–¢–¨ –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ë–£–î–£–©–ï–ú

```bash
python deploy_merged_api.py
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç server.js
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç src/utils/mergeProductData.mjs
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç public/scripts/product-page.js
4. –ó–∞–≥—Ä—É–∂–∞–µ—Ç test-all-apis.mjs
5. –û—á–∏—â–∞–µ—Ç –∫—ç—à
6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä
7. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìù –§–ê–ô–õ–´ –ü–†–û–ï–ö–¢–ê

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `src/utils/mergeProductData.mjs` - –ª–æ–≥–∏–∫–∞ —Å–ª–∏—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- `test-all-apis.mjs` - —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤—Å–µ—Ö API
- `deploy_merged_api.py` - —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `API-COMPARISON.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é API

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `server.js` - –ø–µ—Ä–µ–ø–∏—Å–∞–Ω /api/product endpoint
- `public/scripts/product-page.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω URL –∑–∞–ø—Ä–æ—Å–∞
- `public/styles/product.css` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫

---

**–î–∞—Ç–∞:** 2025-01-XX  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ  
**–°–µ—Ä–≤–µ—Ä:** http://5.129.228.88:9201
