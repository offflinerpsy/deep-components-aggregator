# üñ•Ô∏è –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø –ö–û–ù–°–û–õ–ò –•–û–°–¢–ò–ù–ì–ê

## üì¶ –£ –¢–ï–ë–Ø –ï–°–¢–¨ –ì–û–¢–û–í–´–ô –ü–ê–ö–ï–¢: `deploy.zip` (121KB)

### –®–ê–ì 1: –ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä
1. –û—Ç–∫—Ä–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–≤–æ–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞
2. –ù–∞–π–¥–∏ **File Manager** –∏–ª–∏ **–§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä**
3. –ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª `deploy.zip` –≤ –ø–∞–ø–∫—É `/tmp/` –∏–ª–∏ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

### –®–ê–ì 2: –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å Ubuntu
1. –í –ø–∞–Ω–µ–ª–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞ –Ω–∞–π–¥–∏ **Console**, **Terminal** –∏–ª–∏ **SSH Console**
2. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —á–µ—Ä–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª Ubuntu

### –®–ê–ì 3: –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª–∏

–°–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤—å —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã **–û–î–ù–£ –ó–ê –û–î–ù–û–ô**:

```bash
# 1. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º
cd /tmp

# 2. –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –ø—Ä–æ–µ–∫—Ç
unzip -o deploy.zip

# 3. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f node || true

# 4. –û—á–∏—â–∞–µ–º –∏ —Å–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
rm -rf /opt/deep-agg/*
mkdir -p /opt/deep-agg

# 5. –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
cp -r server.js package.json src adapters public lib /opt/deep-agg/

# 6. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/deep-agg

# 7. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install --production

# 8. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ
nohup node server.js > server.log 2>&1 &

# 9. –ñ–¥–µ–º 3 —Å–µ–∫—É–Ω–¥—ã
sleep 3

# 10. –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
ps aux | grep 'node server.js' | grep -v grep

# 11. –¢–µ—Å—Ç–∏—Ä—É–µ–º API
curl http://127.0.0.1:9201/api/search?q=LM317
```

### –®–ê–ì 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ nginx (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–∞—Å—Ç—Ä–æ–π nginx:

```bash
# –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥ nginx
cat > /etc/nginx/sites-available/deep-agg << 'EOF'
server {
    listen 80;
    server_name _;
    location / {
        proxy_pass http://127.0.0.1:9201;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
EOF

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥
ln -sf /etc/nginx/sites-available/deep-agg /etc/nginx/sites-enabled/
rm -f /etc/nginx/sites-enabled/default
nginx -t && systemctl reload nginx
```

### –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥:

1. **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ç–µ—Å—Ç**: `curl http://127.0.0.1:9201/api/search?q=LM317`
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞

2. **–í–Ω–µ—à–Ω–∏–π —Ç–µ—Å—Ç**: –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ `http://95.217.134.12/api/search?q=LM317`
   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

3. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: `http://95.217.134.12/`
   - –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:
- ‚úÖ Node.js —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 9201
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 34+ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è LM317
- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
tail -50 /opt/deep-agg/server.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep node

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
cd /opt/deep-agg && pkill -f node && nohup node server.js > server.log 2>&1 &
```

### üìû –°–û–û–ë–©–ò –ú–ù–ï:
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫–∞–∂–∏ –∫–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—É—á–∏–ª—Å—è –∏ —è –ø–æ–º–æ–≥—É —Å –¥–∞–ª—å–Ω–µ–π—à–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π!
