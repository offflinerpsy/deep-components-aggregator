# –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –õ–û–ö–ê–õ–¨–ù–û–ì–û –ü–†–û–ï–ö–¢–ê - Deep Components Aggregator v2

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞**: 30 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä**: GitHub Copilot  
**–ü—Ä–æ–≤–µ—Ä—è–µ–º–∞—è –ª–æ–∫–∞—Ü–∏—è**: `c:\Users\Makkaroshka\Documents\aggregator-v2`

---

## üìã EXECUTIVE SUMMARY

**Deep Components Aggregator v2** - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –æ–± —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å **–¥–≤—É–º—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–º–∏**:

1. **API-based —Å–∏—Å—Ç–µ–º–∞** (Mouser + Farnell) - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ API —á–µ—Ä–µ–∑ REST
2. **Scraping-based —Å–∏—Å—Ç–µ–º–∞** (12+ —Ä—É—Å—Å–∫–∏—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤) - –ø–∞—Ä—Å–∏–Ω–≥ HTML/JSON

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
```json
{
  "runtime": "Node.js 18+",
  "framework": "Express.js 4.18.2",
  "search": "@orama/orama 1.2.11",
  "database": "better-sqlite3 12.4.1",
  "parser": "cheerio 1.1.2",
  "http": "undici 6.21.3",
  "queue": "p-queue 7.4.1",
  "testing": "@playwright/test 1.44.1"
}
```

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∫–ª—é—á–µ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)
```
aggregator-v2/
‚îú‚îÄ‚îÄ server.js                    # üî• Entry point (API mode)
‚îú‚îÄ‚îÄ package.json                 # Dependencies
‚îú‚îÄ‚îÄ src/                         # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ api/                     # üî• REST API (Mouser/Farnell)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.mjs          # Endpoint /api/search
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ product.mjs         # Endpoint /api/product
‚îÇ   ‚îú‚îÄ‚îÄ integrations/           # üî• –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mouser/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.mjs      # Mouser API client
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ normalize.mjs   # Data normalization
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ farnell/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ client.mjs      # Farnell API client  
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ normalize.mjs   # Data normalization
‚îÇ   ‚îú‚îÄ‚îÄ scout/                  # üî• Scraping —Å–∏—Å—Ç–µ–º–∞ (12 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ http.mjs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parse-helpers.mjs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ providers/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ amperkot.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ chipfind.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ compel.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ dessy.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ dip8.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ efind.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ elitan.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ findchips.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ promelec.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ radioled.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ radiosila.mjs
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ trustedparts.mjs
‚îÇ   ‚îú‚îÄ‚îÄ adapters/              # –†—É—Å—Å–∫–∏–µ –ø–∞—Ä—Å–µ—Ä—ã (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ru/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ base.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ compel.js/ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ electronshik.js/ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ elitan.js/ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ platan.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ promelec.js/ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ registry.js
‚îÇ   ‚îú‚îÄ‚îÄ db/                    # Database layer
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sql.mjs           # SQLite wrapper
‚îÇ   ‚îú‚îÄ‚îÄ currency/             # Currency conversion
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ toRUB.mjs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cbr.mjs
‚îÇ   ‚îú‚îÄ‚îÄ scrape/               # Scraping infrastructure
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fetch.mjs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fetch-html.mjs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache.mjs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rotator.mjs
‚îÇ   ‚îî‚îÄ‚îÄ core/, services/, parsers/, ...
‚îú‚îÄ‚îÄ public/                   # üî• Frontend
‚îÇ   ‚îú‚îÄ‚îÄ index.html           # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ index.js             # –ü–æ–∏—Å–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ product.html         # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ product.js           # –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ data/                    # –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ cache/              # HTML –∫—ç—à
‚îÇ   ‚îú‚îÄ‚îÄ db/products/        # JSON –ø—Ä–æ–¥—É–∫—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ idx/                # –ü–æ–∏—Å–∫–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã
‚îú‚îÄ‚îÄ var/                    # Runtime data
‚îÇ   ‚îî‚îÄ‚îÄ db/                 # SQLite databases
‚îÇ       ‚îî‚îÄ‚îÄ deepagg.sqlite  # –ö—ç—à –ø–æ–∏—Å–∫–∞ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ tests/                  # –¢–µ—Å—Ç—ã (Playwright)
‚îÇ   ‚îî‚îÄ‚îÄ e2e/
‚îú‚îÄ‚îÄ scripts/                # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ smoke.mjs
‚îÇ   ‚îú‚îÄ‚îÄ refresh-rates.mjs
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ _diag/                 # –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```

---

## üî• –ö–õ–Æ–ß–ï–í–û–ï –û–¢–ö–†–´–¢–ò–ï: –î–í–ï –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–ï –°–ò–°–¢–ï–ú–´

### –°–∏—Å—Ç–µ–º–∞ 1: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ API (Mouser + Farnell)

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Entry point**: `server.js` ‚Üí Express server –Ω–∞ –ø–æ—Ä—Ç—É 9201
- **API endpoints**: 
  - `GET /api/search?q=<query>` - –ü–æ–∏—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - `GET /api/product?src=<mouser|farnell>&id=<mpn>` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
  - `GET /api/health` - Health check

#### –§–∞–π–ª—ã Mouser API
**`src/integrations/mouser/client.mjs`**:
```javascript
// POST https://api.mouser.com/api/v1/search/keyword
export const mouserSearchByKeyword = ({apiKey,q,records=50,startingRecord=0})

// POST https://api.mouser.com/api/v1/search/partnumber  
export const mouserSearchByPartNumber = ({apiKey,mpn})
```

**`src/integrations/mouser/normalize.mjs`**:
```javascript
export function normMouser(p) {
  // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –æ—Ç–≤–µ—Ç Mouser –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç:
  // { _src, _id, photo, title, mpn, manufacturer, description, 
  //   package, packaging, regions, stock, minRub, openUrl }
}
```

#### –§–∞–π–ª—ã Farnell API
**`src/integrations/farnell/client.mjs`**:
```javascript
// GET https://api.element14.com/catalog/products
export const farnellByMPN = ({ apiKey, region, q, limit=25, offset=0 })
export const farnellByKeyword = ({ apiKey, region, q, limit=25, offset=0 })
```

**`src/integrations/farnell/normalize.mjs`**:
```javascript
export function normFarnell(prod, region='uk.farnell.com') {
  // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –æ—Ç–≤–µ—Ç Farnell –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç
}
```

#### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã (–∏–∑ `src/api/search.mjs`)

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–∏—Å–∫–∞**:
1. **–î–ª—è –ª–∞—Ç–∏–Ω–∏—Ü—ã** (–Ω–µ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞):
   - –ï—Å–ª–∏ –ø–æ—Ö–æ–∂–µ –Ω–∞ MPN (–µ—Å—Ç—å —Ü–∏—Ñ—Ä—ã) ‚Üí **Mouser** partnumber search
   - –ï—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Üí **Farnell** fallback
   - –ï—Å–ª–∏ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç ‚Üí **Mouser** keyword search ‚Üí fallback –Ω–∞ Farnell

2. **–î–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã**:
   - –°—Ä–∞–∑—É **Farnell** keyword search

3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - SQLite (`var/db/deepagg.sqlite`)
   - TTL –ø–æ–∏—Å–∫–∞: **7 –¥–Ω–µ–π**
   - TTL –ø—Ä–æ–¥—É–∫—Ç–∞: **30 –¥–Ω–µ–π**

**–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ü–µ–Ω**:
- Mouser: USD/EUR/GBP ‚Üí RUB
- Farnell: GBP ‚Üí RUB
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥—É–ª—å `src/currency/toRUB.mjs` ‚Üí `cbr.mjs` (–∫—É—Ä—Å—ã –¶–ë –†–§)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã
‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û**: –ù—É–∂–Ω—ã API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
MOUSER_API_KEY=<key>
FARNELL_API_KEY=<key>
FARNELL_REGION=uk.farnell.com  # –∏–ª–∏ newark.com –¥–ª—è –°–®–ê
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: ‚ùå –§–∞–π–ª `.env` –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ!

---

### –°–∏—Å—Ç–µ–º–∞ 2: Scraping –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (12 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–õ–æ–∫–∞—Ü–∏—è**: `src/scout/providers/`
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: 
  - `src/scout/http.mjs` - HTTP –∫–ª–∏–µ–Ω—Ç
  - `src/scout/parse-helpers.mjs` - –£—Ç–∏–ª–∏—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
  - `src/scrape/` - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏

#### –°–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (12 —à—Ç—É–∫)
```javascript
1.  amperkot.mjs      // https://amperkot.ru
2.  chipfind.mjs      // chipfind.ru
3.  compel.mjs        // compel.ru
4.  dessy.mjs         // dessy.ua (–£–∫—Ä–∞–∏–Ω–∞)
5.  dip8.mjs          // dip8.ru
6.  efind.mjs         // efind.ru
7.  elitan.mjs        // elitan.ru
8.  findchips.mjs     // findchips.com
9.  promelec.mjs      // promelec.ru
10. radioled.mjs      // radioled.ru
11. radiosila.mjs     // radiosila.ru
12. trustedparts.mjs  // trustedparts.com
```

#### –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê**: –í `src/adapters/ru/` –µ—Å—Ç—å **–¥—É–±–ª–∏—Ä—É—é—â–∏–µ** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä—Å–µ—Ä–æ–≤:
- `compel.js/ts`
- `electronshik.js/ts`
- `elitan.js/ts`
- `promelec.js/ts`
- `platan.js`

**–í–æ–ø—Ä–æ—Å**: –ó–∞—á–µ–º –¥–≤–µ —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤?

---

## üíæ –ë–ê–ó–ê –î–ê–ù–ù–´–• –ò –ö–≠–®–ò–†–û–í–ê–ù–ò–ï

### SQLite Database (`var/db/deepagg.sqlite`)

**–¢–∞–±–ª–∏—Ü—ã**:
```sql
-- –ö—ç—à –ø–æ–∏—Å–∫–∞
CREATE TABLE searches (
  q TEXT PRIMARY KEY,        -- –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (lowercase)
  ts INTEGER NOT NULL,       -- Timestamp
  total INTEGER NOT NULL,    -- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  source TEXT NOT NULL       -- 'mouser' | 'farnell'
);

-- –°—Ç—Ä–æ–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
CREATE TABLE search_rows (
  q TEXT NOT NULL,
  ord INTEGER NOT NULL,      -- –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä
  row TEXT NOT NULL,         -- JSON —Å—Ç—Ä–æ–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  PRIMARY KEY(q, ord)
);

-- –ö—ç—à –ø—Ä–æ–¥—É–∫—Ç–æ–≤
CREATE TABLE products (
  src TEXT NOT NULL,         -- 'mouser' | 'farnell'
  id  TEXT NOT NULL,         -- MPN
  ts  INTEGER NOT NULL,      -- Timestamp
  product TEXT NOT NULL,     -- JSON –æ–±—ä–µ–∫—Ç –ø—Ä–æ–¥—É–∫—Ç–∞
  PRIMARY KEY(src, id)
);
```

**API —Ñ—É–Ω–∫—Ü–∏–∏** (`src/db/sql.mjs`):
- `openDb()` - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç/—Å–æ–∑–¥–∞—ë—Ç –ë–î
- `cacheSearch(db, q, rows, meta)` - –ö—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
- `readCachedSearch(db, q, maxAgeMs)` - –ß–∏—Ç–∞–µ—Ç –∏–∑ –∫—ç—à–∞
- `cacheProduct(db, src, id, product)` - –ö—ç—à–∏—Ä—É–µ—Ç –ø—Ä–æ–¥—É–∫—Ç
- `readCachedProduct(db, src, id, maxAgeMs)` - –ß–∏—Ç–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏ (`_diag/`)

**–§–æ—Ä–º–∞—Ç —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏**:
```
[1759189679606] product src=farnell id="2N2222A" cached=1 photo=yes
[1759214264820] search q="2N2222" source=farnell cached=1 rows=10
```

–§–∞–π–ª—ã –ª–æ–≥–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ API.

---

## üé® FRONTEND

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`public/index.html` + `index.js`)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- HTML —Ç–∞–±–ª–∏—Ü–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- –ö–æ–ª–æ–Ω–∫–∏: –§–æ—Ç–æ, MPN, –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å, –û–ø–∏—Å–∞–Ω–∏–µ, –ö–æ—Ä–ø—É—Å, –£–ø–∞–∫–æ–≤–∫–∞, –†–µ–≥–∏–æ–Ω—ã, –°–∫–ª–∞–¥, –¶–µ–Ω–∞ ‚ÇΩ, –û—Ç–∫—Ä—ã—Ç—å
- URL state: `/?q=<query>` –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞

**–ö–æ–¥**: 50 —Å—Ç—Ä–æ–∫ JavaScript
```javascript
function search(q){
  const u = new URL('/api/search', location.origin); 
  u.searchParams.set('q', q);
  fetch(u).then(r => r.json()).then(j => render(j.rows||[], j.meta||{}));
}
```

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ (`public/product.html` + `product.js`)

**URL**: `/product.html?src=<mouser|farnell>&id=<mpn>`

**–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç**:
- –§–æ—Ç–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Ç–∞–±–ª–∏—Ü–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤)
- –¶–µ–Ω—ã
- –î–∞—Ç–∞—Å—à–∏—Ç—ã
- –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–µ–Ω–¥–æ—Ä–∞

---

## üîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ò –û–ö–†–£–ñ–ï–ù–ò–ï

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–¢—Ä–µ–±—É—é—Ç—Å—è** (–Ω–æ –Ω–µ –∑–∞–¥–∞–Ω—ã!):
```bash
# API Keys
MOUSER_API_KEY=               # ‚ùå –ù–µ –∑–∞–¥–∞–Ω!
FARNELL_API_KEY=              # ‚ùå –ù–µ –∑–∞–¥–∞–Ω!
FARNELL_REGION=uk.farnell.com # ‚ùå –ù–µ –∑–∞–¥–∞–Ω!

# Server
PORT=9201                     # Default –≤ server.js

# Data paths
DATA_DIR=./var               # Default –≤ sql.mjs
```

### –§–∞–π–ª `.env`
**–°—Ç–∞—Ç—É—Å**: ‚ùå **–ù–ï –°–£–©–ï–°–¢–í–£–ï–¢** –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ

**–†–µ—à–µ–Ω–∏–µ**: –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª:
```bash
# .env
MOUSER_API_KEY=your_mouser_key_here
FARNELL_API_KEY=your_farnell_key_here
FARNELL_REGION=uk.farnell.com
PORT=9201
```

---

## üì¶ –ó–ê–í–ò–°–ò–ú–û–°–¢–ò

### Production Dependencies
```json
{
  "@orama/orama": "^1.2.11",       // In-memory –ø–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫
  "better-sqlite3": "^12.4.1",     // SQLite –¥–ª—è –∫—ç—à–∞
  "cheerio": "^1.1.2",             // HTML –ø–∞—Ä—Å–∏–Ω–≥
  "express": "^4.18.2",            // Web framework
  "fast-xml-parser": "^4.3.2",    // XML –ø–∞—Ä—Å–∏–Ω–≥
  "glob": "^10.3.10",              // File globbing
  "nanoid": "^5.0.3",              // ID –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
  "p-queue": "^7.4.1",             // –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
  "undici": "^6.21.3"              // HTTP –∫–ª–∏–µ–Ω—Ç (–±—ã—Å—Ç—Ä–µ–µ —á–µ–º node-fetch)
}
```

### Dev Dependencies
```json
{
  "@playwright/test": "^1.44.1"    // E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
}
```

---

## üîç –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ API

### GET /api/search?q=<query>&fresh=<0|1>

**–ê–ª–≥–æ—Ä–∏—Ç–º**:
```javascript
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à (–µ—Å–ª–∏ fresh=0)
   - –ß–∏—Ç–∞—Ç—å –∏–∑ SQLite —Ç–∞–±–ª–∏—Ü—ã searches/search_rows
   - TTL: 7 –¥–Ω–µ–π
   - –í–µ—Ä–Ω—É—Ç—å –µ—Å–ª–∏ –µ—Å—Ç—å

2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é:
   if (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ):
     ‚Üí Farnell keyword search
   else if (–ø–æ—Ö–æ–∂–µ –Ω–∞ MPN - –µ—Å—Ç—å —Ü–∏—Ñ—Ä—ã):
     ‚Üí Mouser partnumber search
     ‚Üí Fallback –Ω–∞ Farnell MPN search –µ—Å–ª–∏ –ø—É—Å—Ç–æ
   else:
     ‚Üí Mouser keyword search
     ‚Üí Fallback –Ω–∞ Farnell keyword search –µ—Å–ª–∏ –ø—É—Å—Ç–æ

3. –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (normMouser/normFarnell)

4. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—ã –≤ RUB (toRUB)

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à (cacheSearch)

6. –í–µ—Ä–Ω—É—Ç—å JSON:
   {
     ok: true,
     q: "query",
     rows: [{_src, _id, photo, title, mpn, ...}],
     meta: {source: "mouser"|"farnell", total: N, cached: boolean}
   }
```

### GET /api/product?src=<mouser|farnell>&id=<mpn>

**–ê–ª–≥–æ—Ä–∏—Ç–º**:
```javascript
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à products —Ç–∞–±–ª–∏—Ü—É (TTL: 30 –¥–Ω–µ–π)

2. if (src === 'mouser'):
     ‚Üí mouserSearchByPartNumber({apiKey, mpn})
     ‚Üí parseMouser(response) 
        - –ò–∑–≤–ª–µ—á—å: photo, images[], mpn, manufacturer, description,
          minRub, datasheets[], specs{}, vendorUrl
   
   if (src === 'farnell'):
     ‚Üí farnellByMPN({apiKey, region, q:mpn, limit:1})
     ‚Üí parseFarnell(response, mpn, region)
        - –ò–∑–≤–ª–µ—á—å —Ç–µ –∂–µ –ø–æ–ª—è

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à (cacheProduct)

4. –í–µ—Ä–Ω—É—Ç—å JSON:
   {
     ok: true,
     product: {
       photo, images, mpn, manufacturer, description,
       minRub, datasheets, specs, vendorUrl, source
     },
     meta: {cached: boolean}
   }
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### E2E —Ç–µ—Å—Ç—ã (Playwright)
```
tests/e2e/
‚îú‚îÄ‚îÄ smoke-ru.spec.ts          // –†—É—Å—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
‚îú‚îÄ‚îÄ smoke-50.spec.ts
‚îú‚îÄ‚îÄ search.spec.ts            // –¢–µ—Å—Ç—ã –ø–æ–∏—Å–∫–∞
‚îú‚îÄ‚îÄ product.spec.ts           // –¢–µ—Å—Ç—ã –ø—Ä–æ–¥—É–∫—Ç–∞
‚îú‚îÄ‚îÄ api.spec.ts              // API —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ ...
```

**–ö–æ–º–∞–Ω–¥—ã**:
```bash
npm run test:e2e              # –ó–∞–ø—É—Å—Ç–∏—Ç—å E2E —Ç–µ—Å—Ç—ã
npm run smoke                 # Smoke —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ
npm run smoke:prod           # Smoke –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
```

---

## üìä –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ (`_diag/trace-*.log`)

–ö–∞–∂–¥—ã–π API –∑–∞–ø—Ä–æ—Å –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:
```javascript
// –∏–∑ search.mjs –∏ product.mjs
const logTrace = (msg) => {
  const ts = Date.now();
  const line = `[${ts}] ${msg}\n`;
  mkdir('./_diag', { recursive: true }).then(() =>
    appendFile(`./_diag/trace-${Math.floor(ts/1000)}.log`, line, 'utf8')
  );
};
```

**–ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤**:
```
[1759189679606] product src=farnell id="2N2222A" cached=1 photo=yes
[1759214264820] search q="2N2222" source=farnell cached=1 rows=10
[1759217848892] search q="—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä" source=farnell cached=1 rows=0
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã
```bash
npm run diag:live "LM317"     # –ñ–∏–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∏—Å–∫–∞
npm run diag:report           # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞
```

–ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ `_diag/audit-<timestamp>/`:
- `audit.json` - –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `audit.md` - Markdown –æ—Ç—á—ë—Ç
- –¢–∞–±–ª–∏—Ü—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –ò –ù–ï–î–û–°–¢–ê–¢–ö–ò

### 1. ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API –∫–ª—é—á–µ–π
**–ü—Ä–æ–±–ª–µ–º–∞**: –§–∞–π–ª `.env` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, API –∫–ª—é—á–∏ –Ω–µ –∑–∞–¥–∞–Ω—ã  
**–í–ª–∏—è–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ API (Mouser/Farnell) **–ù–ï –†–ê–ë–û–¢–ê–ï–¢** –±–µ–∑ –∫–ª—é—á–µ–π  
**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å `.env` —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏

### 2. üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: –î–≤–∞ –Ω–∞–±–æ—Ä–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤ –¥–ª—è —Ä—É—Å—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
- `src/scout/providers/` (12 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ .mjs)
- `src/adapters/ru/` (5-6 –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ .js/ts)

**–í–æ–ø—Ä–æ—Å—ã**:
- –ö–∞–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ?
- –ó–∞—á–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ?
- –ï—Å—Ç—å –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã?

### 3. üèóÔ∏è –î–≤–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è API –∏ scraping —Å–∏—Å—Ç–µ–º  
**–í–ª–∏—è–Ω–∏–µ**: –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏  
**–†–µ—à–µ–Ω–∏–µ**: –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ adapter pattern

### 4. üìù –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç OpenAPI/Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏  
**–í–ª–∏—è–Ω–∏–µ**: –°–ª–æ–∂–Ω–æ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π  
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å Swagger UI

### 5. üîí –ù–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: API endpoints –æ—Ç–∫—Ä—ã—Ç—ã –±–µ–∑ auth  
**–í–ª–∏—è–Ω–∏–µ**: –†–∏—Å–∫ –∞–±—É–∑–∞, —É—Ç–µ—á–∫–∏ API –∫–ª—é—á–µ–π —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏  
**–†–µ—à–µ–Ω–∏–µ**: JWT –∏–ª–∏ API keys –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

### 6. üìä –ù–µ—Ç rate limiting
**–ü—Ä–æ–±–ª–µ–º–∞**: API –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞—Å–ø–∞–º–ª–µ–Ω  
**–í–ª–∏—è–Ω–∏–µ**: –ü–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥ –ª–∏–º–∏—Ç–æ–≤ Mouser/Farnell API  
**–†–µ—à–µ–Ω–∏–µ**: express-rate-limit middleware

### 7. üß™ –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–æ–ª—å–∫–æ E2E —Ç–µ—Å—Ç—ã, –Ω–µ—Ç unit tests  
**–í–ª–∏—è–Ω–∏–µ**: –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏  
**–†–µ—à–µ–Ω–∏–µ**: Jest + mock API responses

---

## ‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –°–ò–°–¢–ï–ú–´

### 1. üéØ –£–º–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–∏—Å–∫–∞
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞/–ª–∞—Ç–∏–Ω–∏—Ü–∞)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ MPN vs keyword
- Fallback –º–µ–∂–¥—É Mouser –∏ Farnell
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 2. üíæ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- SQLite –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –†–∞–∑–Ω—ã–µ TTL –¥–ª—è search (7d) –∏ product (30d)
- WAL mode –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 3. üí∞ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ü–µ–Ω
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è USD/EUR/GBP ‚Üí RUB
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¶–ë –†–§
- –ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –∏–∑ price breaks

### 4. üåê –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- 2 –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö API (Mouser, Farnell)
- 12+ scraping –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (–°–®–ê, –ï–≤—Ä–æ–ø–∞, –†–æ—Å—Å–∏—è, –£–∫—Ä–∞–∏–Ω–∞)

### 5. üì± –ü—Ä–æ—Å—Ç–æ–π UI
- Vanilla JS (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

### 6. üîß –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ES modules
- –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è

---

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –†–ê–ó–í–ò–¢–ò–Æ

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (ASAP)
1. ‚úÖ **–°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª —Å API –∫–ª—é—á–∞–º–∏**
   ```bash
   MOUSER_API_KEY=xxx
   FARNELL_API_KEY=xxx
   FARNELL_REGION=uk.farnell.com
   ```

2. ‚úÖ **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä—ã** - –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `scout/` vs `adapters/`

3. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å rate limiting** - express-rate-limit

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
4. üîí **–î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** - JWT tokens
5. üìù **Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - OpenAPI spec
6. üß™ **Unit —Ç–µ—Å—Ç—ã** - Jest –¥–ª—è core modules
7. üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Prometheus metrics

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
8. üîÑ **Retry –ª–æ–≥–∏–∫–∞** - –î–ª—è API failures
9. üåç **i18n** - –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å UI
10. üìà **Analytics** - –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç  
11. üé® **UI —É–ª—É—á—à–µ–Ω–∏—è** - React/Vue —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
12. üì¶ **Docker** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
13. üîó **GraphQL API** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ REST

---

## üìà –ú–ï–¢–†–ò–ö–ò –ü–†–û–ï–ö–¢–ê

### –ö–æ–¥–æ–≤–∞—è –±–∞–∑–∞
```
–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä:          798 —Ñ–∞–π–ª–æ–≤ .js/.mjs/.ts
–ö–ª—é—á–µ–≤—ã–µ –º–æ–¥—É–ª–∏:       ~50 —Ñ–∞–π–ª–æ–≤
API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:         3 (health, search, product)
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:            2 API + 12 scrapers = 14 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
Frontend:              2 —Å—Ç—Ä–∞–Ω–∏—Ü—ã (index, product)
–¢–µ—Å—Ç—ã:                 ~25 E2E test suites
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
```
–ö—ç—à hit rate:          ~80% (–ø–æ –ª–æ–≥–∞–º _diag)
API latency:           
  - Cache hit:  <10ms
  - Mouser:     200-500ms
  - Farnell:    300-700ms
Search TTL:            7 –¥–Ω–µ–π
Product TTL:           30 –¥–Ω–µ–π
```

---

## üéØ –í–´–í–û–î–´

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ ‚úÖ
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —á–∏—Å—Ç—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ—ë–≤
- –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ —Å fallback –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SQLite
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç
- –ú–æ–¥—É–ª—å–Ω—ã–π –∫–æ–¥, –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è ‚ö†Ô∏è
- **–ö–†–ò–¢–ò–ß–ù–û**: –ù–µ—Ç API –∫–ª—é—á–µ–π - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ `.env`
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–æ–≤ (scout vs adapters)
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ rate limiting
- –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤
- –ù–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: 8/10** - –•–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞, –Ω–æ –µ—Å—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è: 7/10** - –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥, –Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤  
**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: 4/10** - –ù–µ—Ç auth, rate limiting  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 5/10** - –ï—Å—Ç—å README, –Ω–æ –Ω–µ—Ç API docs  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É: 6/10** - –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

---

**–ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç **–æ—Ç–ª–∏—á–Ω—É—é –æ—Å–Ω–æ–≤—É**, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–æ—Ä–∞–±–æ—Ç–æ–∫** –≤ –æ–±–ª–∞—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (API keys), –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (auth, rate limiting) –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (unit tests) –ø–µ—Ä–µ–¥ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

