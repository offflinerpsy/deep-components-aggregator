# üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢ –î–õ–Ø –ü–†–û–í–ï–†–ö–ò

**–î–∞—Ç–∞**: 12 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π**: ‚úÖ –ì–û–¢–û–í–û

---

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. Backend
- [x] –£–¥–∞–ª—ë–Ω legacy-–∫–æ–¥ (ChipDip/Promelec/Electronshik –ø–∞—Ä—Å–µ—Ä—ã)
- [x] –í–∏—Ç—Ä–∏–Ω–∞ `/api/vitrine/list` —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
- [x] SSE `/api/live/search` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [x] –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è RU‚ÜíEN —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
- [x] Smoke-—Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ

### 2. Frontend
- [x] –ì–ª–∞–≤–Ω–∞—è (`/`) –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `/api/vitrine/list` (–Ω–µ hardcoded)
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [x] –ü–æ–∏—Å–∫ (`/search`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SSE —á–µ—Ä–µ–∑ `/api/live/search`
- [x] Rewrites –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (`:3000/api/*` ‚Üí `:9201/api/*`)
- [x] –°—Å—ã–ª–∫–∏ –∏–∑–º–µ–Ω–µ–Ω—ã —Å `/results` –Ω–∞ `/search`

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å smoke-—Ç–µ—Å—Ç

```bash
cd /opt/deep-agg
node scripts/smoke-test-frontend.mjs
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
```
‚úÖ All smoke tests passed!

1Ô∏è‚É£ Backend Vitrine API
   ‚úÖ Backend vitrine: 10 components

2Ô∏è‚É£ Russian Normalization
   "—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä" ‚Üí "transistor": ‚úÖ (5 results)
   "—Ä–µ–∑–∏—Å—Ç–æ—Ä" ‚Üí "resistor": ‚úÖ (1 results)
   "–∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä" ‚Üí "capacitor": ‚úÖ (5 results)

3Ô∏è‚É£ Frontend Rewrites
   ‚úÖ Frontend rewrites work: 5 components via :3000/api/*

4Ô∏è‚É£ SSE Live Search Endpoint
   ‚úÖ SSE endpoint ready
```

---

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**URL**: http://localhost:3000/

**–ß–µ–∫-–ª–∏—Å—Ç**:
- [ ] –°–µ–∫—Ü–∏—è "–ß–¢–û –ò–©–£–¢ –õ–Æ–î–ò" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–µ LM317T/BSS138)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç MPN, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è, –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (Transistors, Resistors, –∏ —Ç.–¥.)
- [ ] –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/search?q=<MPN>`
- [ ] –ù–µ—Ç "–ó–∞–≥—Ä—É–∑–∫–∞..." (–¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –∑–∞ <1 —Å–µ–∫)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000/
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –¥–æ —Å–µ–∫—Ü–∏–∏ "–ß–¢–û –ò–©–£–¢ –õ–Æ–î–ò"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ MPN (–Ω–µ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ 28)
4. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ª—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å `/search?q=...`

**–°–∫—Ä–∏–Ω—à–æ—Ç** (TODO): –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω —Å–µ–∫—Ü–∏–∏ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä—É—Å—Å–∫–∏–π –ø–æ–∏—Å–∫

**–ó–∞–ø—Ä–æ—Å**: `—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä`

**–ß–µ–∫-–ª–∏—Å—Ç**:
- [ ] –í —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞ –≤–≤–æ–¥–∏—Ç—Å—è "—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä"
- [ ] –ü–æ—Å–ª–µ Enter ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/search?q=—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä`
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã (2N7002, BSS138, BC547)
- [ ] –°—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000/
2. –í–≤–µ—Å—Ç–∏ "—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä" ‚Üí Enter
3. –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí –≤–∫–ª–∞–¥–∫–∞ Console (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫)
4. –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí –≤–∫–ª–∞–¥–∫–∞ Network
5. –ù–∞–π—Ç–∏ –∑–∞–ø—Ä–æ—Å `live/search?q=%D1%82%D1%80%D0%B0%D0%BD%D0%B7%D0%B8%D1%81%D1%82%D0%BE%D1%80`
6. –¢–∏–ø –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `eventsource`
7. –í–æ –≤–∫–ª–∞–¥–∫–µ EventStream –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è —Å–æ–±—ã—Ç–∏—è –ø–æ –æ–¥–Ω–æ–º—É

**–°–∫—Ä–∏–Ω—à–æ—Ç** (TODO):
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- DevTools Network ‚Üí EventStream events

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–æ–∏—Å–∫

**–ó–∞–ø—Ä–æ—Å**: `LM317`

**–ß–µ–∫-–ª–∏—Å—Ç**:
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç—ã LM317 (LM317T, LM317LZ, –∏ —Ç.–¥.)
- [ ] –ï—Å—Ç—å —Ü–µ–Ω—ã –≤ —Ä—É–±–ª—è—Ö
- [ ] –ï—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–ª–∏—á–∏–∏ (stock)
- [ ] –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Mouser, DigiKey, TME, Farnell) –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ç–∞—Ç—É—Å

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
1. –í–≤–µ—Å—Ç–∏ "LM317" ‚Üí Enter
2. –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (~5-10 —Å–µ–∫)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã 5-10 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ü–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–Ω–µ NaN, –Ω–µ undefined)

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞

**URL**: http://localhost:3000/product/LM317T

**–ß–µ–∫-–ª–∏—Å—Ç**:
- [ ] –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
- [ ] –ï—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å
- [ ] –ï—Å—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ (description_short)
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –æ—Ñ—Ñ–µ—Ä—ã (—Ü–µ–Ω–∞/—Å–∫–ª–∞–¥/—Ä–µ–≥–∏–æ–Ω)
- [ ] –ï—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ datasheet (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)
- [ ] –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã —É–∫–∞–∑–∞–Ω—ã (–∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000/product/LM317T
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª–Ω–æ—Å—Ç—å—é
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ü–∏–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

**–°–∫—Ä–∏–Ω—à–æ—Ç** (TODO): –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞.

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### Performance
- [ ] –ì–ª–∞–≤–Ω–∞—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∑–∞ <2 —Å–µ–∫
- [ ] –ü–æ–∏—Å–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –ø–µ—Ä–≤—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∑–∞ <3 —Å–µ–∫
- [ ] SSE —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º <1 —Å–µ–∫ (–Ω–µ –±–∞—Ç—á–∞–º–∏)

### Functionality
- [ ] –†—É—Å—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç ("—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä" ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- [ ] –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç ("transistor" ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–æ—á–Ω–∞—è (>80% –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
- [ ] –ù–µ—Ç hardcoded –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ

### UX
- [ ] –ù–µ—Ç –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
- [ ] –°—Ç–∞—Ç—É—Å—ã –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–Ω—è—Ç–Ω—ã ("–ó–∞–≥—Ä—É–∑–∫–∞...", "–ü–æ–∏—Å–∫...", "–ù–∞–π–¥–µ–Ω–æ N —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤")
- [ ] –û—à–∏–±–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–Ω–µ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Å–æ–ª–∏)

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –ú–∞–∫—Å. 60 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ `/search` (–Ω–µ—Ç "–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë")
2. **–§–∏–ª—å—Ç—Ä—ã**: –ù–µ—Ç UI –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–Ω–∞–ª–∏—á–∏–µ, —Ü–µ–Ω–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å)
3. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –ù–µ—Ç –≤—ã–±–æ—Ä–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –Ω–∞ `/search`
4. **TME Pricing**: –ò–Ω–æ–≥–¥–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (fallback –Ω–∞ Search API –±–µ–∑ —Ü–µ–Ω)
5. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –û–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏ (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω–æ –¥–ª—è —Ä–µ–¥–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)

---

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# 1. Smoke-—Ç–µ—Å—Ç
node scripts/smoke-test-frontend.mjs

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ backend health
curl http://127.0.0.1:9201/api/health | jq

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ vitrine API
curl 'http://127.0.0.1:9201/api/vitrine/list?limit=5' | jq '.rows[0]'

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä—É—Å—Å–∫–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
curl 'http://127.0.0.1:9201/api/vitrine/list?q=—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä&limit=3' | jq '.meta.queryNorm'

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ SSE –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
curl -I 'http://127.0.0.1:9201/api/live/search?q=test'
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: Content-Type: text/event-stream; charset=utf-8

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend rewrites (–µ—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç –∑–∞–ø—É—â–µ–Ω)
curl 'http://127.0.0.1:3000/api/vitrine/list?limit=1' | jq
```

---

## ‚úÖ –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ï—Å–ª–∏ –≤—Å–µ —á–µ–∫–ª–∏—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã:

1. **–°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã** (–≥–ª–∞–≤–Ω–∞—è, –ø–æ–∏—Å–∫, –∫–∞—Ä—Ç–æ—á–∫–∞)
2. **–ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π**:
   ```bash
   git add .
   git commit -m "feat(frontend): connect vitrine API to homepage

   - Remove hardcoded components array
   - Fetch real data from /api/vitrine/list
   - Add automatic category detection
   - Update links from /results to /search
   - Add smoke test for frontend-backend integration
   
   BREAKING CHANGE: Homepage now requires backend vitrine API"
   ```
3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** (–µ—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è API)
4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å E2E —Ç–µ—Å—Ç—ã** (Playwright)

---

**–ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ!** üöÄ
