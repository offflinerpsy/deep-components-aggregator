# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–¥–∏–∑–∞–π–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞

**–î–∞—Ç–∞**: 21 –¥–µ–∫–∞–±—Ä—è 2025  
**MPN –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: `LTC3221EDC-3.3#TRMPBF`

---

## ‚úÖ Backend —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è

### API Response Structure

```json
{
  "mpn": "LTC3221EDC-3.3#TRMPBF",
  "manufacturer": "Analog Devices",
  "totalStock": 1210,
  "warehouseCount": 2,
  "minETA": "7-14 –¥–Ω–µ–π",
  "bestPrice": 235.06,
  "warehouses": [
    {
      "name": "–°–∫–ª–∞–¥ 1",
      "stock": 500,
      "minPrice": 235.06,
      "eta": "7-14 –¥–Ω–µ–π"
    },
    {
      "name": "–°–∫–ª–∞–¥ 2",
      "stock": 710,
      "minPrice": 340.65,
      "eta": "7-10 –¥–Ω–µ–π"
    }
  ],
  "priceBreaks_count": 9
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ leak'–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

```bash
curl -s "http://localhost:9201/api/product?mpn=LTC3221EDC-3.3%23TRMPBF" | \
  jq 'keys' | grep -i -E "(region|source|vendor|mouser|digikey|farnell|tme)"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚ùå –ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π (exit code 1) ‚Äî **leak'–∏ —É—Å–ø–µ—à–Ω–æ —É–±—Ä–∞–Ω—ã**

---

## ‚úÖ –°–∫—Ä—ã—Ç—ã–µ –ø–æ–ª—è (–Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É)

```json
{
  "regions": null,
  "sources": null,
  "vendorUrls": null
}
```

**–ö–†–ò–¢–ò–ß–ù–û**: –í—Å–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã –≤—ã–¥–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö, —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω—ã.

---

## ‚úÖ Backend –ª–æ–≥–∏

```
1|deep-agg | üì¶ Product Request: LTC3221EDC-3.3#TRMPBF
1|deep-agg | ÔøΩÔøΩ Transformed to 2 warehouses, total stock: 1210
```

**–°—Ç–∞—Ç—É—Å**: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## ‚úÖ Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –£–±—Ä–∞–Ω–æ –∏–∑ UI:

- ‚ùå –°–µ–∫—Ü–∏—è "–î–û–°–¢–£–ü–ù–û –í –†–ï–ì–ò–û–ù–ê–•: US"
- ‚ùå Badge —Å `source` (mouser/digikey/farnell/tme)
- ‚ùå –ö–Ω–æ–ø–∫–∞ "–£ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞" (vendorUrl)
- ‚ùå –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ "MOQ" –≤ —Ç–∞–±–ª–∏—Ü–µ

### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ UI:

- ‚úÖ "–î–æ—Å—Ç—É–ø–Ω–æ: 1210+ —à—Ç (–Ω–∞ 2 —Å–∫–ª–∞–¥–∞—Ö)"
- ‚úÖ "–°—Ä–æ–∫: 7-14 –¥–Ω–µ–π" –≤ hero section
- ‚úÖ Inline price breaks (badges) —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ —Å–∫–∏–¥–∫–∏
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–∫–ª–∞–¥–æ–≤:
  - –°—Ç–æ–ª–±–µ—Ü "–°–∫–ª–∞–¥" (–°–∫–ª–∞–¥ 1, –°–∫–ª–∞–¥ 2...)
  - –°—Ç–æ–ª–±–µ—Ü "–î–æ—Å—Ç—É–ø–Ω–æ" (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à—Ç—É–∫)
  - –°—Ç–æ–ª–±–µ—Ü "–¶–µ–Ω–∞ (–æ—Ç)" (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞ —à—Ç)
  - –°—Ç–æ–ª–±–µ—Ü "–°—Ä–æ–∫" (ETA –¥–æ—Å—Ç–∞–≤–∫–∏)

---

## ‚úÖ –ì—Ä–∞–¥–∞—Ü–∏—è —Ü–µ–Ω (Price Breaks)

**–§–æ—Ä–º–∞—Ç**: Inline badges —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ —Å–∫–∏–¥–∫–∏

–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:
```json
[
  {"qty": 1, "price_rub": 637.70, "discount": 0, "isBest": false},
  {"qty": 10, "price_rub": 489.18, "discount": 23, "isBest": false},
  {"qty": 25, "price_rub": 455.27, "discount": 29, "isBest": false},
  {"qty": 50, "price_rub": 420.89, "discount": 34, "isBest": false},
  {"qty": 100, "price_rub": 386.51, "discount": 39, "isBest": false},
  {"qty": 250, "price_rub": 352.13, "discount": 45, "isBest": false},
  {"qty": 500, "price_rub": 235.06, "discount": 63, "isBest": true},
  {"qty": 1000, "price_rub": 340.65, "discount": 47, "isBest": false}
]
```

**UI**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ç–∏—Ä—ã —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ —Å–∫–∏–¥–∫–∏, –≤—ã–¥–µ–ª—è–µ—Ç –ª—É—á—à—É—é —Ü–µ–Ω—É –∑–≤—ë–∑–¥–æ—á–∫–æ–π.

---

## ‚úÖ Verification Checklist

- [x] Backend: —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ warehouses —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Backend: `regions` –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- [x] Backend: `sources` –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- [x] Backend: `vendorUrls` –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- [x] Frontend: —Å–µ–∫—Ü–∏—è "–î–û–°–¢–£–ü–ù–û –í –†–ï–ì–ò–û–ù–ê–•" —É–¥–∞–ª–µ–Ω–∞
- [x] Frontend: badge —Å `source` —É–¥–∞–ª—ë–Ω
- [x] Frontend: –∫–Ω–æ–ø–∫–∞ "–£ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞" —É–¥–∞–ª–µ–Ω–∞
- [x] Frontend: —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–°–∫–ª–∞–¥ 1/2/3" –≤–º–µ—Å—Ç–æ "US/EU"
- [x] Frontend: inline price breaks –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] Frontend: —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –±–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- [x] Grep –ø–æ–∏—Å–∫ –ø–æ HTML –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç "mouser", "digikey", "farnell", "tme"
- [x] Grep –ø–æ–∏—Å–∫ –ø–æ API JSON –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–æ–ª—è

---

## üéØ –ò—Ç–æ–≥–æ–≤–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–°–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´

**Leak'–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤**: ‚ùå –ù–ï–¢ (—É—Å–ø–µ—à–Ω–æ —Å–∫—Ä—ã—Ç—ã)

**UI —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó**: ‚úÖ –î–ê

**Backend API —á–∏—Å—Ç**: ‚úÖ –î–ê

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: 21 –¥–µ–∫–∞–±—Ä—è 2025, 14:20 UTC

---

**–ê–≤—Ç–æ—Ä**: GitHub Copilot (Claude Sonnet 4.5)  
**–í–µ—Ä—Å–∏—è –¢–ó**: [docs/_artifacts/2025-12-21/product-card-redesign-tz.md](product-card-redesign-tz.md)
