# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤ + AdminJS

**–î–∞—Ç–∞**: 24 –æ–∫—Ç—è–±—Ä—è 2025  
**–ó–∞–∫–∞–∑**: ORD-B99DD8 (h9832eh@yahoo.com)

---

## üéØ –ü–†–û–ë–õ–ï–ú–´

1. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É –Ω–µ –≤–∏–¥–µ–Ω –≤ –∞–¥–º–∏–Ω–∫–µ**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–ø–∏—Å–∞–ª: "–ê—Ä–±—É–∑—ã –µ—Å—Ç—å? –ü–æ—á–µ–º?"
   - –í –ë–î —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ `meta.comment`, –Ω–æ –≤ AdminJS `meta` –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è

2. **–û—à–∏–±–∫–∞ AdminJS: "date.includes is not a function"**
   - –í Settings —Ä–µ—Å—É—Ä—Å–µ —É–∫–∞–∑–∞–Ω `created_at` –≤ showProperties
   - –ù–æ –≤ –º–æ–¥–µ–ª–∏ Settings –ù–ï–¢ –ø–æ–ª—è `created_at` (–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ `updated_at`)

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `meta` –≤ Orders

**–§–∞–π–ª**: `/opt/deep-agg/src/admin/index.mjs`

**–ò–∑–º–µ–Ω–µ–Ω–æ**:
```javascript
// –î–û:
showProperties: ['order_code', 'created_at', ..., 'status_history']

// –ü–û–°–õ–ï:
showProperties: ['order_code', 'created_at', ..., 'status_history', 'meta']
properties: {
  ...
  meta: { type: 'mixed', components: { show: false } }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –¢–µ–ø–µ—Ä—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤–∏–¥–µ–Ω –≤ –∞–¥–º–∏–Ω–∫–µ –≤ –ø–æ–ª–µ `meta: {"comment":"–ê—Ä–±—É–∑—ã –µ—Å—Ç—å? –ü–æ—á–µ–º?"}`

---

### 2. –£–±—Ä–∞–Ω–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ `created_at` –∏–∑ Settings

**–§–∞–π–ª**: `/opt/deep-agg/src/admin/index.mjs`

**–ò–∑–º–µ–Ω–µ–Ω–æ**:
```javascript
// –î–û:
showProperties: ['key', 'value', ..., 'created_at', 'updated_at']

// –ü–û–°–õ–ï:
showProperties: ['key', 'value', ..., 'updated_at']
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –û—à–∏–±–∫–∞ "date.includes is not a function" —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞

---

## üß™ –ü–†–û–í–ï–†–ö–ê

### –ó–∞–∫–∞–∑ ORD-B99DD8:

```bash
sqlite3 var/db/deepagg.sqlite \
  "SELECT order_code, customer_email, meta FROM orders WHERE order_code = 'ORD-B99DD8'"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
```
ORD-B99DD8|h9832eh@yahoo.com|{"comment":"–ê—Ä–±—É–∑—ã –µ—Å—Ç—å? –ü–æ—á–µ–º?","suppliersLinks":["https://oemstrade.com/search?q=CRCW040210K0FKED"]}
```

‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –ë–î –µ—Å—Ç—å!

---

### –ê–¥–º–∏–Ω–∫–∞:

1. **–í–æ–π–¥–∏**: https://prosnab.tech/admin
2. **–ù–∞–π–¥–∏ –∑–∞–∫–∞–∑**: ORD-B99DD8
3. **–û—Ç–∫—Ä–æ–π –¥–µ—Ç–∞–ª–∏**: —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ –ø–æ–ª–µ `meta` —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º

**–û–∂–∏–¥–∞–µ—Ç—Å—è**:
```json
{
  "comment": "–ê—Ä–±—É–∑—ã –µ—Å—Ç—å? –ü–æ—á–µ–º?",
  "suppliersLinks": ["https://oemstrade.com/search?q=CRCW040210K0FKED"]
}
```

---

## üìã –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------|-----------|--------|
| `src/admin/index.mjs` | –î–æ–±–∞–≤–ª–µ–Ω–æ `meta` –≤ Orders showProperties | ‚úÖ |
| `src/admin/index.mjs` | –£–±—Ä–∞–Ω–æ `created_at` –∏–∑ Settings showProperties | ‚úÖ |

---

## üîÑ –†–ê–ó–í–Å–†–¢–´–í–ê–ù–ò–ï

```bash
cd /opt/deep-agg
pm2 restart deep-agg
# –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω: 24.10.2025 15:24 MSK
```

**–õ–æ–≥–∏**:
```
‚úÖ Server Started
‚úÖ AdminJS database connected
```

–ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ "date.includes" –±–æ–ª—å—à–µ –Ω–µ—Ç!

---

## üìä –î–ê–ù–ù–´–ï –ó–ê–ö–ê–ó–ê

```
ID:             8762bc70-b4ce-488f-bc03-d2d971de88f2
–ö–æ–¥:            ORD-B99DD8
Email:          h9832eh@yahoo.com
MPN:            CRCW040210K0FKED
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:    "–ê—Ä–±—É–∑—ã –µ—Å—Ç—å? –ü–æ—á–µ–º?"
–°—Ç–∞—Ç—É—Å:         pending
–î–∞—Ç–∞:           2025-10-24 12:17:56
```

---

## ‚ö° –ò–¢–û–ì

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –≤–∏–¥–µ–Ω –≤ –∞–¥–º–∏–Ω–∫–µ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| –û—à–∏–±–∫–∞ "date.includes" | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| PM2 restart | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |

---

**–ê–≤—Ç–æ—Ä**: GitHub Copilot  
**–î–∞—Ç–∞**: 24 –æ–∫—Ç—è–±—Ä—è 2025, 15:25 MSK
